{"ast":null,"code":"var _jsxFileName = \"E:\\\\hotel\\\\frontend\\\\src\\\\components\\\\AdminOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\n\n// Connect to backend Socket.io\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\"); // must match backend port\n\nconst AdminOrders = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n\n  // Fetch all orders from backend\n  const fetchOrders = () => {\n    axios.get(\"http://localhost:5000/api/order\").then(res => setOrders(res.data)).catch(err => console.log(err));\n  };\n  useEffect(() => {\n    fetchOrders();\n\n    // Listen for new orders from backend\n    socket.on(\"newOrder\", order => {\n      setOrders(prev => [...prev, order]);\n    });\n\n    // Listen for order status updates\n    socket.on(\"updateOrder\", updatedOrder => {\n      setOrders(prev => prev.map(o => o._id === updatedOrder._id ? updatedOrder : o));\n    });\n    return () => {\n      socket.off(\"newOrder\");\n      socket.off(\"updateOrder\");\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), orders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid black\",\n        margin: \"10px\",\n        padding: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Table: \", order.tableNumber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Status: \", order.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: order.items.map(i => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [i.menuId.name, \" x\", i.quantity]\n        }, i.menuId._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 35\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, order._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminOrders, \"FvMuVccH6DXI6fqfhJiN/VsjZaw=\");\n_c = AdminOrders;\nexport default AdminOrders;\nvar _c;\n$RefreshReg$(_c, \"AdminOrders\");","map":{"version":3,"names":["React","useEffect","useState","axios","io","jsxDEV","_jsxDEV","socket","AdminOrders","_s","orders","setOrders","fetchOrders","get","then","res","data","catch","err","console","log","on","order","prev","updatedOrder","map","o","_id","off","children","fileName","_jsxFileName","lineNumber","columnNumber","style","border","margin","padding","tableNumber","status","items","i","menuId","name","quantity","_c","$RefreshReg$"],"sources":["E:/hotel/frontend/src/components/AdminOrders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\n\r\n// Connect to backend Socket.io\r\nconst socket = io(\"http://localhost:5000\"); // must match backend port\r\n\r\nconst AdminOrders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  // Fetch all orders from backend\r\n  const fetchOrders = () => {\r\n    axios.get(\"http://localhost:5000/api/order\")\r\n      .then(res => setOrders(res.data))\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n\r\n    // Listen for new orders from backend\r\n    socket.on(\"newOrder\", order => {\r\n      setOrders(prev => [...prev, order]);\r\n    });\r\n\r\n    // Listen for order status updates\r\n    socket.on(\"updateOrder\", updatedOrder => {\r\n      setOrders(prev => prev.map(o => o._id === updatedOrder._id ? updatedOrder : o));\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"newOrder\");\r\n      socket.off(\"updateOrder\");\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Admin Dashboard</h2>\r\n      {orders.map(order => (\r\n        <div key={order._id} style={{border:\"1px solid black\", margin:\"10px\", padding:\"10px\"}}>\r\n          <p>Table: {order.tableNumber}</p>\r\n          <p>Status: {order.status}</p>\r\n          <ul>\r\n            {order.items.map(i => <li key={i.menuId._id}>{i.menuId.name} x{i.quantity}</li>)}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminOrders;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}